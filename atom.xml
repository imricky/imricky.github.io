<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>心如止水</title>
  <subtitle>Keep it simple and stupid</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-04-16T12:44:18.827Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Ricky</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>新中大实习第12天</title>
    <link href="http://yoursite.com/2017/04/16/practiceDay12/"/>
    <id>http://yoursite.com/2017/04/16/practiceDay12/</id>
    <published>2017-04-16T12:40:00.000Z</published>
    <updated>2017-04-16T12:44:18.827Z</updated>
    
    <content type="html"><![CDATA[<p>星期日，晴。</p>
<p>培训第二天<br><a id="more"></a><br>两个字：<strong>麻木</strong></p>
<p>也许是内容太多了吧，感觉时间很紧张。感觉在公众场合不适合吐槽，过两天转入私密日记</p>
<p>心还是浮躁，想的太多。</p>
<blockquote><p>Keep it Simple &amp;&amp; Stupid!</p>
</blockquote>
<p><img src="https://okklhum46.qnssl.com/practiceDay12.jpg" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;星期日，晴。&lt;/p&gt;
&lt;p&gt;培训第二天&lt;br&gt;
    
    </summary>
    
    
      <category term="实习" scheme="http://yoursite.com/tags/%E5%AE%9E%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>新中大实习第11天</title>
    <link href="http://yoursite.com/2017/04/15/practiceDay11/"/>
    <id>http://yoursite.com/2017/04/15/practiceDay11/</id>
    <published>2017-04-15T11:35:00.000Z</published>
    <updated>2017-04-15T11:50:36.328Z</updated>
    
    <content type="html"><![CDATA[<p>星期五，晴，终于睡到8点钟起床了。起床之后外面天气贼好。</p>
<p>今天开始了培训，具体过程不表。<br><a id="more"></a><br>培训下午倒是喝了几碗鸡汤，感觉又明白了挺多东西的。</p>
<p>不过也真的特别累，最后还要考试，有点慌，据说还是很严格的†</p>
<p>小米枕头也到了。</p>
<p>好好学习吧~</p>
<p>把今天学到的一些鸡汤记录一下：</p>
<blockquote><p>发现问题，说明你在工作；<br>解决问题，说明你有能力。</p>
</blockquote>
<blockquote><p>耐得住寂寞，才守得住繁华</p>
</blockquote>
<p>共勉！</p>
<p><img src="https://okklhum46.qnssl.com/practiceDay11.jpg" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;星期五，晴，终于睡到8点钟起床了。起床之后外面天气贼好。&lt;/p&gt;
&lt;p&gt;今天开始了培训，具体过程不表。&lt;br&gt;
    
    </summary>
    
    
      <category term="实习" scheme="http://yoursite.com/tags/%E5%AE%9E%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>新中大实习第10天</title>
    <link href="http://yoursite.com/2017/04/14/practice-days-in-newgrand-10/"/>
    <id>http://yoursite.com/2017/04/14/practice-days-in-newgrand-10/</id>
    <published>2017-04-14T12:24:00.000Z</published>
    <updated>2017-04-14T12:39:06.029Z</updated>
    
    <content type="html"><![CDATA[<p>星期五，大晴天。<br>这种天气，适合去春游。</p>
<p>搬过来住了，但是还没见到房子里的室友，或许他们都是早出晚归的吧~</p>
<a id="more"></a>
<p>又和小伙伴聊到了压力，杭州真的好大，好繁华，但是这个城市的房价，还是太高了。</p>
<p>或许这就是一个人应该经历的磨难吧，自己常说，别让25岁的年龄活成了50岁，有时候，压力大未必是一件坏事。</p>
<p>太安逸了也不好。</p>
<p>晚上的时候上<a href="https://www.youtube.com" target="_blank" rel="external">youtube</a>，看到了张雪峰老师的搞笑视频，觉得有句话说的很有道理：<br><blockquote><p>鱼找鱼，虾找虾，乌龟找王八。你是什么样子的，你找的就是什么样子的。要想找个好的，你就必须要提升自己</p>
</blockquote></p>
<p>一切都在发展，我不能停滞不前。</p>
<p>很久没和高中同学联系了，不知道他们过得怎么样。过几天张扬生日，问他一下吧~</p>
<p>明天就要培训了，周末也没得休息，先过了这关。</p>
<p><img src="https://okklhum46.qnssl.com/practiceDay10.jpg" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;星期五，大晴天。&lt;br&gt;这种天气，适合去春游。&lt;/p&gt;
&lt;p&gt;搬过来住了，但是还没见到房子里的室友，或许他们都是早出晚归的吧~&lt;/p&gt;
    
    </summary>
    
    
      <category term="实习" scheme="http://yoursite.com/tags/%E5%AE%9E%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>新中大实习第9天</title>
    <link href="http://yoursite.com/2017/04/14/practice-days-in-newgrand-9/"/>
    <id>http://yoursite.com/2017/04/14/practice-days-in-newgrand-9/</id>
    <published>2017-04-14T05:13:00.000Z</published>
    <updated>2017-04-14T12:23:31.054Z</updated>
    
    <content type="html"><![CDATA[<p>星期四，晴</p>
<p>下午请假去开毕设例会了，感到巨大压力</p>
<p>恨不得一天有36个小时。<br><a id="more"></a></p>
<p>终于要搬到出租屋了。</p>
<p>晚上和陈根一起去看了速度与激情8的首映 <strong>00:00</strong>，骑车去,特效太棒了，虽然有10分钟貌似要睡着了，o(╯□╰)o~</p>
<p>感觉没毕业真好。</p>
<p>想办公交卡却被告知要去古荡，还是再凑合下吧。</p>
<p>周末还要培训~暂时不回学校了。</p>
<p>加油。</p>
<blockquote><p>愿你，永远年轻，永远热泪盈眶！</p>
</blockquote>
<p><img src="https://okklhum46.qnssl.com/practiceDay9.jpg" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;星期四，晴&lt;/p&gt;
&lt;p&gt;下午请假去开毕设例会了，感到巨大压力&lt;/p&gt;
&lt;p&gt;恨不得一天有36个小时。&lt;br&gt;
    
    </summary>
    
    
      <category term="实习" scheme="http://yoursite.com/tags/%E5%AE%9E%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>新中大实习第8天</title>
    <link href="http://yoursite.com/2017/04/13/practice-days-in-newgrand-8/"/>
    <id>http://yoursite.com/2017/04/13/practice-days-in-newgrand-8/</id>
    <published>2017-04-13T02:40:00.000Z</published>
    <updated>2017-04-13T02:56:35.380Z</updated>
    
    <content type="html"><![CDATA[<p>又没有昨天晚上写，罪过罪过。</p>
<p>等搬到这边来一定当天晚上就写日志和总结。</p>
<p>星期三，阴天。</p>
<p>在网上买了小米枕头。还要过几天才能到，感觉要把寝室现在的枕头带过去先凑合着了。</p>
<a id="more"></a>
<p>晚上又扫码注册了哈罗单车（HelloBike），共享单车真的是一块很大的市场，等烧完钱之后呢？剩下的又有几家，会像滴滴和优步那样么？不得而知。不过确实很方便。</p>
<p>今天发生了2个大新闻：</p>
<ul>
<li>白百何出轨</li>
<li>杭州4.2级地震。据室友说他感受到了，但是我前一天太累了，凌晨毫无感觉~~</li>
</ul>
<p>要完成的任务真的好多</p>
<ul>
<li>c#学生管理系统</li>
<li>毕业设计</li>
<li>物理期中考试</li>
</ul>
<p>每一个都让我焦头烂额，蓝瘦</p>
<p>最近花了好多好多钱。心疼</p>
<p>明白自己想要什么真的很重要，我想我渐渐明白，这是一件好事吧。</p>
<p>踏实做人，认真做事，无愧于心。</p>
<p>静，认真学习！</p>
<blockquote><p>每一个不曾起舞的日子，都是对生命的辜负。</p>
</blockquote>
<p>我不想辜负。</p>
<p><img src="https://okklhum46.qnssl.com/practiceDay8.jpg" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;又没有昨天晚上写，罪过罪过。&lt;/p&gt;
&lt;p&gt;等搬到这边来一定当天晚上就写日志和总结。&lt;/p&gt;
&lt;p&gt;星期三，阴天。&lt;/p&gt;
&lt;p&gt;在网上买了小米枕头。还要过几天才能到，感觉要把寝室现在的枕头带过去先凑合着了。&lt;/p&gt;
    
    </summary>
    
    
      <category term="实习" scheme="http://yoursite.com/tags/%E5%AE%9E%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>新中大实习第7天</title>
    <link href="http://yoursite.com/2017/04/12/practice-days-in-newgrand-7/"/>
    <id>http://yoursite.com/2017/04/12/practice-days-in-newgrand-7/</id>
    <published>2017-04-12T01:21:00.000Z</published>
    <updated>2017-04-12T01:39:43.258Z</updated>
    
    <content type="html"><![CDATA[<p>记录内容均为前一天总结，或许以后就当天晚上回出租房里写写。</p>
<p>星期二，有小雨。</p>
<p>累，累，累！</p>
<p>几天也许是我实习7天以来最累的一天。<br><a id="more"></a><br>先说行程：<br>6点20起床，坐车1个半小时，到公司<br>中午吃完饭从公司到紫金港上课<br>下午接近6点从紫金港到玉泉<br>休息一会之后又从玉泉和陈根一起把我的一些衣服搬到出租房。</p>
<p>因为门锁问题，<strong>悲惨错过末班车</strong>,打车回来￥40.心疼~~~</p>
<p>值得安慰的是上物理课老师说我们可以免听，平时成绩按平均分。</p>
<p>出租房子里什么都没有，还要去采购蛮多东西才能入住。</p>
<p>继续学习c#</p>
<p>东西好贵。<br>很累，还有毕业设计。</p>
<p>写东西越来越像小学生了，读书读得少了。等安定之后多读书吧。</p>
<p>路的那边好像有光，但是我不知道该怎么走。<br>我也不知道该不该走。<br>睡吧。</p>
<blockquote><p>愿你走出半生，归来仍是少年</p>
</blockquote>
<p><img src="https://okklhum46.qnssl.com/practiceDay7.jpg" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;记录内容均为前一天总结，或许以后就当天晚上回出租房里写写。&lt;/p&gt;
&lt;p&gt;星期二，有小雨。&lt;/p&gt;
&lt;p&gt;累，累，累！&lt;/p&gt;
&lt;p&gt;几天也许是我实习7天以来最累的一天。&lt;br&gt;
    
    </summary>
    
    
      <category term="实习" scheme="http://yoursite.com/tags/%E5%AE%9E%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>新中大实习第6天</title>
    <link href="http://yoursite.com/2017/04/10/practice-days-in-newgrand-6/"/>
    <id>http://yoursite.com/2017/04/10/practice-days-in-newgrand-6/</id>
    <published>2017-04-10T11:42:00.000Z</published>
    <updated>2017-04-12T01:20:11.425Z</updated>
    
    <content type="html"><![CDATA[<p>星期一，雨，前几天还是晴天，这几天却下起了雨。<br>打车根本打不到啊，还好有个顺路的，但是最后还是迟到了，不过司机师傅还不错，给的钱还算合理 ￥40<br>更加坚信了我赶紧搬到出租屋里的念头。</p>
<p>找好了房子，准备搬过去，晚上叫陈根帮忙。</p>
<p>虽然环境有点小，但是告诉自己要坚持。<br><a id="more"></a><br>引用中介小哥的一句话：<br><blockquote><p>当你坚持不下去的时候，再坚持三个月，也许会有不一样的感觉！</p>
<footer><strong>爱上租</strong><cite>龙哥</cite></footer></blockquote></p>
<p>今天继续看c#基础语法，对于我这种没有基础的人，看的直打瞌睡。</p>
<p>今天晚上终于没有吃外卖了，陪朋友看房子的时候顺便吃了个面。</p>
<p>路很难，何时才能看到光。</p>
<p><img src="https://okklhum46.qnssl.com/practiceDay6%281%29.jpg" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;星期一，雨，前几天还是晴天，这几天却下起了雨。&lt;br&gt;打车根本打不到啊，还好有个顺路的，但是最后还是迟到了，不过司机师傅还不错，给的钱还算合理 ￥40&lt;br&gt;更加坚信了我赶紧搬到出租屋里的念头。&lt;/p&gt;
&lt;p&gt;找好了房子，准备搬过去，晚上叫陈根帮忙。&lt;/p&gt;
&lt;p&gt;虽然环境有点小，但是告诉自己要坚持。&lt;br&gt;
    
    </summary>
    
    
      <category term="实习" scheme="http://yoursite.com/tags/%E5%AE%9E%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>新中大实习第一天</title>
    <link href="http://yoursite.com/2017/04/05/practice-days-in-newgrand-1/"/>
    <id>http://yoursite.com/2017/04/05/practice-days-in-newgrand-1/</id>
    <published>2017-04-05T05:42:00.000Z</published>
    <updated>2017-04-14T12:49:46.293Z</updated>
    
    <content type="html"><![CDATA[<p>杭州，很美；杭州，很难；路，很漫长。<br>在这个美丽的城市 出人头地  真的很难。</p>
<p>第一天就感受到了社会的不易，饭菜真的好贵，和学校比起来大不一样。</p>
<p>其实之前想说的蛮多了，但是不知道该从何下笔，那就埋在心里，当动力吧。</p>
<p>总之，要靠自己！<br>总之，努力！</p>
<blockquote><p>噫吁嚱， 危乎高哉！ 蜀道之难， 难于上青天！</p>
<footer><strong>李白</strong><cite>蜀道难</cite></footer></blockquote>
<p><img src="https://okklhum46.qnssl.com/practiceDay1%EF%BC%882%EF%BC%89.jpg" alt=""></p>
<font color="gray">ps: 之后文章中的图片均来自<a href="https://pixabay.com" target="_blank" rel="external">pixabay</a></font>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;杭州，很美；杭州，很难；路，很漫长。&lt;br&gt;在这个美丽的城市 出人头地  真的很难。&lt;/p&gt;
&lt;p&gt;第一天就感受到了社会的不易，饭菜真的好贵，和学校比起来大不一样。&lt;/p&gt;
&lt;p&gt;其实之前想说的蛮多了，但是不知道该从何下笔，那就埋在心里，当动力吧。&lt;/p&gt;
&lt;p&gt;总之，要靠
    
    </summary>
    
    
      <category term="实习" scheme="http://yoursite.com/tags/%E5%AE%9E%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>跨域那些事儿</title>
    <link href="http://yoursite.com/2017/02/17/about-cross-domain/"/>
    <id>http://yoursite.com/2017/02/17/about-cross-domain/</id>
    <published>2017-02-16T16:17:28.000Z</published>
    <updated>2017-02-16T16:19:50.670Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一-为什么会有跨域问题？"><a href="#一-为什么会有跨域问题？" class="headerlink" title="一.为什么会有跨域问题？"></a>一.为什么会有跨域问题？</h1><p><strong>不通俗地来说：</strong>浏览器出于安全方面的考虑，只允许与<strong>本域</strong>下的接口交互。不同源的客户端脚本在没有明确授权的情况下，不能读写对方的资源。<br><a id="more"></a></p>
<pre><code>本域：
- 1.同协议：都是http，https，ftp等；
- 2.同域名：都是a.rickyer.com或者都是b.rickyer.com；
- 3.同端口：都是80端口或者443端口；
</code></pre><p> <strong>通俗地来说：</strong> 比如有2个页面，一个是我的个人网站，一个是你的支付宝，如果浏览器允许随意跨域，那么我就可以通过操作我个人网站上的js代码来对你的支付宝进行操作，这样是不是很危险啊？所以浏览器要杜绝这种现象，不会让你去操作其他页面。</p>
<hr>
<h1 id="二-跨域的几种实现方式"><a href="#二-跨域的几种实现方式" class="headerlink" title="二.跨域的几种实现方式"></a>二.跨域的几种实现方式</h1><p><em>本文只讨论实现方式，不讨论其中的安全问题</em></p>
<hr>
<h2 id="1-JSONP（JSON-with-Padding）"><a href="#1-JSONP（JSON-with-Padding）" class="headerlink" title="1. JSONP（JSON with Padding）"></a>1. JSONP（JSON with Padding）</h2><h4 id="原理："><a href="#原理：" class="headerlink" title="原理："></a>原理：</h4><ul>
<li><p>虽然Ajax直接请求普通文件存在跨域无权限访问的问题，但是Web页面上调用js文件时不受是否跨域的影响。</p>
</li>
<li><p><code>&lt;script&gt;</code>标签在请求别的资源时不受跨域影响，不管是js，txt或者别的类型的资源</p>
</li>
<li><p>利用<code>&lt;script&gt;</code>标签的特性，前端传递参数的时候加上一个参数，服务器端包装数据，让其返回可执行的 JS 函数，将要返回的数据作为参数传进函数，从而实现跨域</p>
</li>
</ul>
<hr>
<h2 id="2-CORS"><a href="#2-CORS" class="headerlink" title="2. CORS"></a>2. CORS</h2><p>CORS全称跨域资源共享（Cross-Origin Resource Sharing），是一种 ajax 跨域请求资源的方式，支持现代浏览器，IE支持10以上。</p>
<h4 id="原理：-1"><a href="#原理：-1" class="headerlink" title="原理："></a>原理：</h4><ul>
<li>当你使用 XMLHttpRequest 发送请求时，浏览器发现该请求不符合同源策略，会给该请求加一个请求头：Origin，后台进行一系列处理，如果确定接受请求则在返回结果中加入一个响应头：<code>Access-Control-Allow-Origin</code></li>
</ul>
<ul>
<li>浏览器判断该相应头中是否包含 Origin 的值，如果有则浏览器会处理响应，我们就可以拿到响应数据，如果不包含浏览器直接驳回，这时我们无法拿到响应数据。所以 CORS 的表象是让你觉得它与同源的 ajax 请求没啥区别，代码完全一样。</li>
</ul>
<hr>
<h2 id="3-降域"><a href="#3-降域" class="headerlink" title="3. 降域"></a>3. 降域</h2><p>具有一定限制，通常用于子域名之间的资源访问。</p>
<p>例如：</p>
<ul>
<li><p><code>a.rickyer.com</code> 和  <code>b.rickyer.com</code>之间的资源访问可以用降域；</p>
</li>
<li><p><code>a.rickyer.com</code> 和 <code>b.baidu.com</code> 之间就不能降域</p>
</li>
</ul>
<h4 id="原理：-2"><a href="#原理：-2" class="headerlink" title="原理："></a>原理：</h4><ul>
<li>通过设置<code>document</code>对象中的<code>domain</code>属性,将两个子域名的域降到一样的，就可以实现跨域资源访问（两个子域名都需要设置<code>domain</code>属性）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">document.domain = &quot;rickyer.com&quot;;</div></pre></td></tr></table></figure>
<h2 id="4-PostMessage"><a href="#4-PostMessage" class="headerlink" title="4.PostMessage"></a>4.PostMessage</h2><p>常用场景：</p>
<ul>
<li><p>1.页面和其打开的新窗口的数据传递</p>
</li>
<li><p>2.多窗口之间消息传递</p>
</li>
<li><p>3.页面与嵌套的iframe消息传递</p>
</li>
<li><p>4.上面三个问题的跨域数据传递</p>
</li>
</ul>
<h4 id="原理：-3"><a href="#原理：-3" class="headerlink" title="原理："></a>原理：</h4><ul>
<li>利用<code>window.postMessage()</code>方法。<code>postMessage()</code>方法允许来自不同源的脚本采用异步方式进行有限的通信，可以实现跨文本档、多窗口、跨域消息传递。</li>
</ul>
<h4 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">otherWindow.postMessage(message, targetOrigin, [transfer]);</div></pre></td></tr></table></figure>
<ul>
<li><p><code>otherWindow</code>: 其他窗口的一个引用，比如iframe的contentWindow属性、执行window.open返回的窗口对象、或者是命名过或数值索引的window.frames。</p>
</li>
<li><p><code>message</code>: 将要发送到其他 window的数据。它将会被结构化克隆算法序列化。这意味着你可以不受什么限制的将数据对象安全的传送给目标窗口而无需自己序列化。</p>
</li>
<li><p><code>targetOrigin</code>: 通过窗口的origin属性来指定哪些窗口能接收到消息事件，其值可以是字符串”*”（表示无限制）或者一个URI。在发送消息的时候，如果目标窗口的协议、主机地址或端口这三者的任意一项不匹配targetOrigin提供的值，那么消息就不会被发送；只有三者完全匹配，消息才会被发送。</p>
</li>
<li><p><code>transfer</code>  <em>可选</em>  ： 是一串和message 同时传递的 Transferable 对象. 这些对象的所有权将被转移给消息的接收方，而发送一方将不再保有所有权。</p>
</li>
</ul>
<h1 id="三-关键代码"><a href="#三-关键代码" class="headerlink" title="三. 关键代码"></a>三. 关键代码</h1><h2 id="1-JSONP"><a href="#1-JSONP" class="headerlink" title="1.JSONP"></a>1.JSONP</h2><p>前端：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$(&apos;.change&apos;).addEventListener(&apos;click&apos;, function()&#123; // 绑定事件</div><div class="line">    var script = document.createElement(&apos;script&apos;); // 创建一个script标签</div><div class="line">    script.src = &apos;http://localhost:8080/getNews?callback=appendHtml&apos;; // 设置请求资源的地址,并加上callback参数</div><div class="line">    document.head.appendChild(script); // 将标签添加到html页面的head部分</div><div class="line">    document.head.removeChild(script); // 移除标签，防止页面产生过多script标签</div><div class="line">  &#125;)</div></pre></td></tr></table></figure>
<p>后端：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var cb = req.query.callback; // 提取前端提交的callback部分的值</div><div class="line">	if(cb)&#123;</div><div class="line">		res.send(cb + &apos;(&apos;+ JSON.stringify(data) + &apos;)&apos;); // 如果传递的callback，则包装数据，构造可执行的JS函数</div><div class="line">	&#125;else&#123;</div><div class="line">		res.send(data); //没有就直接返回原数据</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<h2 id="2-CORS-1"><a href="#2-CORS-1" class="headerlink" title="2. CORS"></a>2. CORS</h2><p>在后端添加一个<code>Access-Control-Allow-Origin</code>相应头即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">res.header(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);</div><div class="line">res.header(&quot;Access-Control-Allow-Origin&quot;, &quot;a.rickyer.com&quot;);</div><div class="line"></div><div class="line">//&quot;*&quot;代表所有域都可以用，也可以替换为给定的域，例如&quot;a.rickyer.com&quot;</div></pre></td></tr></table></figure>
<h2 id="3-降域-1"><a href="#3-降域-1" class="headerlink" title="3.降域"></a>3.降域</h2><p>只需要在页面<code>script</code>标签末尾添加一行<code>document.domain = &quot;rickyer.com&quot;</code>就可以</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">    ······</div><div class="line">    ······</div><div class="line">    document.domain = &quot;rickyer.com&quot;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="4-PostMessage-1"><a href="#4-PostMessage-1" class="headerlink" title="4. PostMessage"></a>4. PostMessage</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">window.onload=function()&#123;</div><div class="line">            window.frames[0].postMessage(&apos;getNews&apos;,&apos;http://rickyer.com&apos;);</div><div class="line">        &#125;</div></pre></td></tr></table></figure>
<h1 id="四-总结"><a href="#四-总结" class="headerlink" title="四. 总结"></a>四. 总结</h1><ul>
<li><p>1.跨域都需要服务器的支持，不能强求</p>
</li>
<li><p>2.跨域有许多安全性的问题，使用的时候要注意</p>
</li>
<li><p>3.貌似带有属性<code>src</code>的都不受跨域限制，例如<code>iframe</code> <code>img</code> <code>script</code></p>
</li>
</ul>
<hr>
<p>参考资料：</p>
<ul>
<li><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/postMessage" target="_blank" rel="external">window.postMessage</a></p>
</li>
<li><p><a href="https://zh.wikipedia.org/wiki/JSONP" target="_blank" rel="external">JSONP</a></p>
</li>
<li><p><a href="https://segmentfault.com/a/1190000000718840" target="_blank" rel="external">详解JS跨域</a></p>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一-为什么会有跨域问题？&quot;&gt;&lt;a href=&quot;#一-为什么会有跨域问题？&quot; class=&quot;headerlink&quot; title=&quot;一.为什么会有跨域问题？&quot;&gt;&lt;/a&gt;一.为什么会有跨域问题？&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;不通俗地来说：&lt;/strong&gt;浏览器出于安全方面的考虑，只允许与&lt;strong&gt;本域&lt;/strong&gt;下的接口交互。不同源的客户端脚本在没有明确授权的情况下，不能读写对方的资源。&lt;br&gt;
    
    </summary>
    
    
      <category term="JS" scheme="http://yoursite.com/tags/JS/"/>
    
  </entry>
  
  <entry>
    <title>写一个Hexo 404页面有感</title>
    <link href="http://yoursite.com/2017/02/11/my-feeling-of-writing-a-404-page/"/>
    <id>http://yoursite.com/2017/02/11/my-feeling-of-writing-a-404-page/</id>
    <published>2017-02-11T07:38:16.000Z</published>
    <updated>2017-02-11T07:41:21.376Z</updated>
    
    <content type="html"><![CDATA[<h3 id="起因："><a href="#起因：" class="headerlink" title="起因："></a>起因：</h3><p>总是觉得博客默认的404页面有些枯燥，千篇一律的出现2行字</p>
<blockquote><p>404 Not Found</p>
<p>Nginx 1.10.1</p>
</blockquote>
<p>于是我就想自己做一个404页面出来。<br><a id="more"></a></p>
<h3 id="本地步骤："><a href="#本地步骤：" class="headerlink" title="本地步骤："></a>本地步骤：</h3><h5 id="1-先把大致结构写出来"><a href="#1-先把大致结构写出来" class="headerlink" title="1.先把大致结构写出来"></a>1.先把大致结构写出来</h5><p>我想做的是一个404导航页面，参考了导航网站的设计，但是发现自己需求并不是那么多，把自己常用的网站写出来就好了。</p>
<h5 id="2-文件分为3个"><a href="#2-文件分为3个" class="headerlink" title="2.文件分为3个"></a>2.文件分为3个</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">404.html  --主页面</div><div class="line">style.css --存放样式</div><div class="line">/icon  -- 存放图标的文件夹</div></pre></td></tr></table></figure>
<h5 id="3-找图标"><a href="#3-找图标" class="headerlink" title="3.找图标"></a>3.找图标</h5><p>一个导航必须要有自己的图标吧，要不然全是字太难看，也不好找，本以为找图标比较简单，实际上挺麻烦的，这一步浪费挺多时间的。</p>
<ul>
<li>一般网站都有自己的图标，审查元素后在    <code>&lt;head&gt;&lt;/head&gt;</code>中就可以找到以<code>.ico</code>结尾的图标，大小通常为16x16，转化为png格式，就可以直接插入页面了。<strong>ico格式的貌似不能直接插入页面</strong></li>
<li>我的导航网页没有多少，16x16的显得有点小，就想要32x32的，从16变到32，这就有点麻烦了</li>
<li>于是就开始在网上搜索图标，然后把不符合尺寸的图标裁剪，在放到icon文件夹下，就可以了</li>
</ul>
<h5 id="4-分享几个常用的找图标的网站"><a href="#4-分享几个常用的找图标的网站" class="headerlink" title="4.分享几个常用的找图标的网站"></a>4.分享几个常用的找图标的网站</h5><ul>
<li>1.<a href="http://findicons.com/" target="_blank" rel="external">findicons</a></li>
<li>2.<a href="https://www.iconfinder.com/" target="_blank" rel="external">iconfinder</a></li>
<li>3.<a href="http://www.iconfont.cn/" target="_blank" rel="external">iconfont</a>—–这个是阿里旗下的，比较全面，一般我在这上面找</li>
<li>4.<a href="http://www.easyicon.net/" target="_blank" rel="external">easyicon</a></li>
</ul>
<h3 id="部署到线上"><a href="#部署到线上" class="headerlink" title="部署到线上"></a>部署到线上</h3><h5 id="1-七牛镜像全站"><a href="#1-七牛镜像全站" class="headerlink" title="1.七牛镜像全站"></a>1.七牛镜像全站</h5><p>我的Hexo博客是七牛镜像全站部署的，镜像全站支持HTTPS和自定义404页面，这一点挺好的。</p>
<h5 id="2-上传本地的404"><a href="#2-上传本地的404" class="headerlink" title="2.上传本地的404"></a>2.上传本地的404</h5><p>这里就有点坑了。</p>
<p>打开七牛存储空间，在空间设置的中下部 有自定义404设置，但是只能上传一个页面，也就是一个html。404设置那里有一段话：</p>
<blockquote><p>配置 HTTP 请求时的 404 页面。设置的页面须保存在当前空间内。</p>
</blockquote>
<p>CSS文件还好办，直接内嵌到html中，但是图标怎么办呢？我先把图标上传到了储存空间，发现引用不了，原因是<strong>七牛没有文件夹的概念</strong>，你上传的时候，会把文件夹里的文件全部取出，再依次上传，所以引用就失效了。而且你博客更新的时候，一般是把储存空间里的文件全部删除，也就意味着你上传的图标也要被删除，所以极不方便。</p>
<p><strong>我的办法</strong>：</p>
<p>我选择了一个比较笨的办法，新建一个存储空间，命名为<code>404icon</code>，先把图标文件全部放到新建的这个存储空间中。<br>然后把原来html中的引用图标地址全部改成存储空间的外链，这样就融合成一个页面了，就可以访问404页面了。</p>
<p>效果如下：<br><img src="https://ol73moumb.qnssl.com/404xiaoguo.png" alt=""></p>
<p><strong>以上就是我404页面部署到七牛镜像全站的过程</strong></p>
<h3 id="其他方式1"><a href="#其他方式1" class="headerlink" title="其他方式1"></a>其他方式1</h3><h4 id="Hexo自己生成404页面"><a href="#Hexo自己生成404页面" class="headerlink" title="Hexo自己生成404页面"></a>Hexo自己生成404页面</h4><p>如果不是自己的Hexo博客不是七牛镜像全站，而是部署在自己的服务器上，你也可以定制一个404页面。</p>
<h5 id="步骤："><a href="#步骤：" class="headerlink" title="步骤："></a>步骤：</h5><ol>
<li>进入Hexo所在的文件夹，然后输入命令：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo new page 404</div></pre></td></tr></table></figure>
<p>2.打开刚刚新建的页面，默认默认在 Hexo 文件夹根目录下 <code>/source/404/index.md</code></p>
<p>3.在顶部插入一行，写<code>permalink: /404</code>,这表示指定该页固定链接为 <code>http://example.com/404.html</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">title: 404 Not Found：该页无法显示</div><div class="line">toc: false</div><div class="line">comments: false</div><div class="line">permalink: /404</div><div class="line">---</div></pre></td></tr></table></figure>
<p>4.自定义404页面</p>
<p>在刚新建页面的正文上输入你的html和css，就可以看到自定义的404了</p>
<p><strong>注意：这种方式写的404页面，相当于写一篇文章一样，框架是和文章一样的，也就意味着你的页面宽度是受限制了，需要你根据Hexo框架的宽度来调整</strong></p>
<p>参考链接：<br><a href="http://moxfive.xyz/2015/10/16/hexo-404-page/" target="_blank" rel="external">在 Hexo 中创建匹配主题的404页面</a></p>
<h3 id="其他方式2"><a href="#其他方式2" class="headerlink" title="其他方式2"></a>其他方式2</h3><h4 id="Nginx自定义404页面"><a href="#Nginx自定义404页面" class="headerlink" title="Nginx自定义404页面"></a>Nginx自定义404页面</h4><h5 id="步骤：-1"><a href="#步骤：-1" class="headerlink" title="步骤："></a>步骤：</h5><p>1.打开Nginx配置文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">服务器命令行输入：</div><div class="line">nginx -t</div><div class="line">vi /etc/nginx/nginx.conf</div></pre></td></tr></table></figure>
<p>2.在http定义区域加入：<code>fastcgi_intercept_errors on;</code></p>
<p>3.在server区域加入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">根目录下（一般是Hexo博客目录下的404.html文件）</div><div class="line">error_page 404 /404.html</div></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">访问404页面就跳转到百度（自定义跳转）</div><div class="line">error_page 404 = http://www.baidu.com</div></pre></td></tr></table></figure>
<p><strong>例子：</strong></p>
<p>(1)A site wide 404 page:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">server &#123;</div><div class="line">    listen 80;</div><div class="line">    error_page  404  /website_page_not_found.html;</div><div class="line">    ...</div></pre></td></tr></table></figure>
<p>(2)To redirect to a simple 404 not found page for a specific location:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">location /my_blog &#123;</div><div class="line">    error_page    404 = /blog_article_not_found.html;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>4.重启Nginx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">systemctl restart nginx</div></pre></td></tr></table></figure>
<p>参考链接：<a href="http://stackoverflow.com/questions/1024199/nginx-customizing-404-page" target="_blank" rel="external">Nginx-customizing-404-page</a></p>
<h3 id="感想："><a href="#感想：" class="headerlink" title="感想："></a>感想：</h3><ul>
<li>一定要多练习，多花时间，遇到的问题多了，经验就有了</li>
<li>找导航图标有些不好找，听网友说自己导航网站的图标都是重构的，还是要会点PS和AI</li>
<li><a href="http://stackoverflow.com/" target="_blank" rel="external">stackoverflow</a>真是太好了</li>
<li>安利一个工具，可以用<a href="https://github.com/alexazhou/VeryNginx" target="_blank" rel="external">VeryNginx</a>代替Nginx。VeryNginx可定制化，并有监控面板</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;起因：&quot;&gt;&lt;a href=&quot;#起因：&quot; class=&quot;headerlink&quot; title=&quot;起因：&quot;&gt;&lt;/a&gt;起因：&lt;/h3&gt;&lt;p&gt;总是觉得博客默认的404页面有些枯燥，千篇一律的出现2行字&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;404 Not Found&lt;/p&gt;
&lt;p&gt;Nginx 1.10.1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;于是我就想自己做一个404页面出来。&lt;br&gt;
    
    </summary>
    
    
      <category term="Hexo" scheme="http://yoursite.com/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>优化我的Next博客</title>
    <link href="http://yoursite.com/2017/02/07/Optimize-my-blog/"/>
    <id>http://yoursite.com/2017/02/07/Optimize-my-blog/</id>
    <published>2017-02-07T03:48:38.000Z</published>
    <updated>2017-02-07T03:52:34.525Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-介绍："><a href="#1-介绍：" class="headerlink" title="1.介绍："></a>1.介绍：</h2><p>之前我Hexo博客的主题是<strong><a href="https://github.com/DrakeLeung" target="_blank" rel="external">Again</a></strong>,发现Again如果想要自定义，需要改的东西有点多，不亚于自己写一个主题出来。</p>
<p>于是就选择了Hexo最常见的主题<strong><a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">Next</a></strong>，Next几乎是Hexo中支持扩展最多的主题了（主题可以在<a href="">Hexo官网主题列表</a>中选择），使用起来也比较方便，网上关于Next主题配置和优化的博客很多，大家感兴趣的可以搜一搜。</p>
<h2 id="2-优化"><a href="#2-优化" class="headerlink" title="2.优化"></a>2.优化</h2><h5 id="博客环境："><a href="#博客环境：" class="headerlink" title="博客环境："></a>博客环境：</h5><ul>
<li>主题：Next.Pisces</li>
<li>服务器：centos7+Nginx</li>
<li>win10<a id="more"></a>
言归正传，安装好博客和主题之后，下面开始介绍我的Next主题博客简单的优化：<h5 id="先说明两个概念："><a href="#先说明两个概念：" class="headerlink" title="先说明两个概念："></a>先说明两个概念：</h5></li>
<li><p>1.站点配置文件：Hexo目录下的<code>_config.yml</code></p>
</li>
<li><p>2.主题配置文件：Next主题目录下的<code>_config.yml</code></p>
<h4 id="1-修改博客背景"><a href="#1-修改博客背景" class="headerlink" title="1.修改博客背景"></a>1.修改博客背景</h4><p>这里用到的是开源在GitHub上的一个项目：<a href="https://github.com/hustcc/canvas-nest.js" target="_blank" rel="external">canvas-nest.js</a>，个人感觉这个做背景很好看。</p>
</li>
</ul>
<h6 id="步骤："><a href="#步骤：" class="headerlink" title="步骤："></a>步骤：</h6><ul>
<li><p>1.打开<code>next/layout/_layout.swig</code>，在<code>&lt;body&gt;</code>之前添加如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;% if theme.canvas_nest %&#125;&lt;script type=&quot;text/javascript&quot; src=&quot;//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js&quot;&gt;&lt;/script&gt;&#123;% endif %&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>2.修改<strong>主题配置文件</strong>。打开<code>/next/_config.yml</code>,添加一下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># --------------------------------------------------------------# background settings# --------------------------------------------------------------</div><div class="line"># add canvas-nest effect# see detail from https://github.com/hustcc/canvas-nest.js</div><div class="line">canvas_nest: true</div></pre></td></tr></table></figure>
</li>
</ul>
<p>重新生成一下博客就应该可以看到背景了，背景中各种参数可以自己调节</p>
<h5 id="Ps-如果你不想用上述js作为背景，你也可以选择自己找一张图片作为你Next博客的背景，方法如下："><a href="#Ps-如果你不想用上述js作为背景，你也可以选择自己找一张图片作为你Next博客的背景，方法如下：" class="headerlink" title="Ps:如果你不想用上述js作为背景，你也可以选择自己找一张图片作为你Next博客的背景，方法如下："></a>Ps:如果你不想用上述js作为背景，你也可以选择自己找一张图片作为你Next博客的背景，方法如下：</h5><ul>
<li>1.先找一张图片，放在<code>/themes/next/source/images</code>路径下</li>
<li>2.打开文件：<code>/themes/next/source/css/schemes/Pisces/index.styl</code>，在文件最上方添加代码：<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">body &#123;</div><div class="line">background:url(/images/backGround.jpg);//你之前加的背景图片的名字</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2-添加tgas"><a href="#2-添加tgas" class="headerlink" title="2.添加tgas"></a>2.添加tgas</h4><p>默认生成的Next是没有tags选项的，我们需要为它增加tags目录</p>
<h6 id="步骤：-1"><a href="#步骤：-1" class="headerlink" title="步骤："></a>步骤：</h6><p>1.新建一个页面。</p>
<p>进入博客目录（win系统可以按住Shift键，再用鼠标右键单机文件夹，会出现<strong>在此处打开命令窗口</strong>的选项，就可以进入目录了）</p>
<p>在命令行中输入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo new page tags</div></pre></td></tr></table></figure></p>
<p>会在<code>myBlog/source</code>下会新生成一个新的文件夹<code>tags</code>，在该文件夹下会有一个<code>index.md</code>文件</p>
<p>2.设置页面类型。</p>
<p>在上步新生成的<code>myBlog/source/tags/index.md</code>中添加<code>type: &quot;tags&quot;</code>，<code>index.md</code>文件内容如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">---</div><div class="line">title: tags</div><div class="line">date: 2017-01-27 15:22:45</div><div class="line">type: &quot;tags&quot;</div><div class="line">---</div></pre></td></tr></table></figure></p>
<p>3.为某篇文章设置tags<br>只需要在文章的开头添加具体tags就行了，例子如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">---</div><div class="line">title: 我的Hexo优化之路</div><div class="line">date: 2017-01-28</div><div class="line">tags: [node, hexo, windows]</div><div class="line">categories: Hexo</div><div class="line">---</div></pre></td></tr></table></figure></p>
<h4 id="3-增加打赏"><a href="#3-增加打赏" class="headerlink" title="3.增加打赏"></a>3.增加打赏</h4><p><a href="https://github.com/iissnan/hexo-theme-next/pull/687" target="_blank" rel="external">GitHub</a></p>
<p>在主题配置文件<code>_config.yml</code>添加如下代码即可，图片改为自己支付宝和微信的二维码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># Donate 文章末尾显示打赏按钮</div><div class="line">reward_comment: 坚持原创技术分享，您的支持将鼓励我继续创作！</div><div class="line">wechatpay: /images/wechatpay.jpg</div><div class="line">alipay: /images/alipay.jpg</div></pre></td></tr></table></figure></p>
<p><strong>注意：貌似这三行都有才会正确显示</strong></p>
<h4 id="4-favicon设置"><a href="#4-favicon设置" class="headerlink" title="4.favicon设置"></a>4.favicon设置</h4><p>有些时候，favicon设置会无效，此时：将你的favicon.ico放在主题目录的<code>source\images</code>下，修改<strong>主题配置文件</strong>：改为：<code>favicon： images/favicon.ico</code>，就应该有效了</p>
<p><strong>未完待续</strong></p>
<h4 id="最后："><a href="#最后：" class="headerlink" title="最后："></a>最后：</h4><p>关于Hexo和Next的配置网上有很多详细的文章，我只是把我的博客配置写了出来。</p>
<p>如果有什么问题:</p>
<ul>
<li>大家可以联系我,我尽力解决</li>
<li>参考<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="external">Hexo官方文档</a>，<a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="external">Next文档</a></li>
<li>还可以到Next的Github下提交<a href="https://github.com/iissnan/hexo-theme-next/issues" target="_blank" rel="external">Issues</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1-介绍：&quot;&gt;&lt;a href=&quot;#1-介绍：&quot; class=&quot;headerlink&quot; title=&quot;1.介绍：&quot;&gt;&lt;/a&gt;1.介绍：&lt;/h2&gt;&lt;p&gt;之前我Hexo博客的主题是&lt;strong&gt;&lt;a href=&quot;https://github.com/DrakeLeung&quot;&gt;Again&lt;/a&gt;&lt;/strong&gt;,发现Again如果想要自定义，需要改的东西有点多，不亚于自己写一个主题出来。&lt;/p&gt;
&lt;p&gt;于是就选择了Hexo最常见的主题&lt;strong&gt;&lt;a href=&quot;https://github.com/iissnan/hexo-theme-next&quot;&gt;Next&lt;/a&gt;&lt;/strong&gt;，Next几乎是Hexo中支持扩展最多的主题了（主题可以在&lt;a href=&quot;&quot;&gt;Hexo官网主题列表&lt;/a&gt;中选择），使用起来也比较方便，网上关于Next主题配置和优化的博客很多，大家感兴趣的可以搜一搜。&lt;/p&gt;
&lt;h2 id=&quot;2-优化&quot;&gt;&lt;a href=&quot;#2-优化&quot; class=&quot;headerlink&quot; title=&quot;2.优化&quot;&gt;&lt;/a&gt;2.优化&lt;/h2&gt;&lt;h5 id=&quot;博客环境：&quot;&gt;&lt;a href=&quot;#博客环境：&quot; class=&quot;headerlink&quot; title=&quot;博客环境：&quot;&gt;&lt;/a&gt;博客环境：&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;主题：Next.Pisces&lt;/li&gt;
&lt;li&gt;服务器：centos7+Nginx&lt;/li&gt;
&lt;li&gt;win10
    
    </summary>
    
    
      <category term="Hexo" scheme="http://yoursite.com/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>新的博客</title>
    <link href="http://yoursite.com/2017/02/01/newStart/"/>
    <id>http://yoursite.com/2017/02/01/newStart/</id>
    <published>2017-02-01T14:57:15.000Z</published>
    <updated>2017-02-01T15:01:55.532Z</updated>
    
    <content type="html"><![CDATA[<p>花了一天的时间把博客好好优化整理了一下，以后专心学习，加油！</p>
<ul>
<li>正如我博客的名字————心如止水，静心，净心</li>
<li>好好学习JS，加油！</li>
</ul>
<center>Keep it simple and stupid!</center>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;花了一天的时间把博客好好优化整理了一下，以后专心学习，加油！&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;正如我博客的名字————心如止水，静心，净心&lt;/li&gt;
&lt;li&gt;好好学习JS，加油！&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;Keep it simple and stupid!&lt;/cen
    
    </summary>
    
    
      <category term="life" scheme="http://yoursite.com/tags/life/"/>
    
  </entry>
  
  <entry>
    <title>你好，2017</title>
    <link href="http://yoursite.com/2017/01/28/FightingforDream/"/>
    <id>http://yoursite.com/2017/01/28/FightingforDream/</id>
    <published>2017-01-28T02:42:00.000Z</published>
    <updated>2017-04-10T09:13:06.409Z</updated>
    
    <content type="html"><![CDATA[<p>大年初一，阴天，,老家，冷</p>
<p>2017年给自己的目标：</p>
<ul>
<li>找到一个好工作</li>
<li>争取在成都</li>
<li>顺利毕业</li>
<li>学好JS</li>
<li>积极锻炼</li>
<li>身体健康，生活愉快</li>
</ul>
<p>2017，来了，加油！</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;大年初一，阴天，,老家，冷&lt;/p&gt;
&lt;p&gt;2017年给自己的目标：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;找到一个好工作&lt;/li&gt;
&lt;li&gt;争取在成都&lt;/li&gt;
&lt;li&gt;顺利毕业&lt;/li&gt;
&lt;li&gt;学好JS&lt;/li&gt;
&lt;li&gt;积极锻炼&lt;/li&gt;
&lt;li&gt;身体健康，生活愉快&lt;/li&gt;
&lt;
    
    </summary>
    
    
      <category term="life" scheme="http://yoursite.com/tags/life/"/>
    
  </entry>
  
  <entry>
    <title>将本地的Hexo文件部署到VPS上</title>
    <link href="http://yoursite.com/2017/01/27/deployOnVPS/"/>
    <id>http://yoursite.com/2017/01/27/deployOnVPS/</id>
    <published>2017-01-27T06:55:16.000Z</published>
    <updated>2017-02-01T09:00:18.486Z</updated>
    
    <content type="html"><![CDATA[<p>在Hexo官网中提到了好几种<a href="https://hexo.io/zh-cn/docs/deployment.html" target="_blank" rel="external">部署的方式</a>，其中比较常用的是<em>Git方式</em>和<em>Rsync方式</em>（适用于新手）<br>其中Git刚开始需要配置比较多的东西，而Rsync则比较方便，直接配置几行命令就可以了，所以我在这里选择了Rsync的方式。<br><a id="more"></a><br>本文使用环境：</p>
<ul>
<li><code>VPS:centos7.2</code></li>
<li><code>Mac系统版本：osx11.6</code></li>
<li><code>windows版本：windows10</code></li>
</ul>
<h2 id="在Mac上配置："><a href="#在Mac上配置：" class="headerlink" title="在Mac上配置："></a>在Mac上配置：</h2><p>搭建好Hexo环境之后</p>
<h4 id="1-安装rsync"><a href="#1-安装rsync" class="headerlink" title="1.安装rsync"></a>1.安装rsync</h4><p>在本地Hexo文件目录下安装hexo-deployer-rsync:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-deployer-rsync --save</div></pre></td></tr></table></figure><br>在远程VPS上安装rsync:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install rsync -y</div></pre></td></tr></table></figure></p>
<h4 id="2-修改配置hexo配置文件-config-yml"><a href="#2-修改配置hexo配置文件-config-yml" class="headerlink" title="2.修改配置hexo配置文件_config.yml:"></a>2.修改配置hexo配置文件<em>_config.yml</em>:</h4><p>在Hexo主配置文件<code>_config.yml</code>(不是某个主题中的_config.yml)的最下方添加:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line">  type: rsync</div><div class="line">  host: 你 VPS 的 IP 地址或者域名</div><div class="line">  user: root</div><div class="line">  root: 你想将 Hexo 生成的静态文件存放在 VPS 中的目录 例如: /www/hexo/blog/</div><div class="line">  port: 你 VPS 的 ssh 端口号（默认22）</div><div class="line">  delete: true</div><div class="line">  verbose: true</div><div class="line">  ignore_errors: false</div></pre></td></tr></table></figure>
<h4 id="3-然后执行命令："><a href="#3-然后执行命令：" class="headerlink" title="3.然后执行命令："></a>3.然后执行命令：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hexo g</div><div class="line">hexo d</div></pre></td></tr></table></figure>
<p>再输入你的VPS的密码，就可以成功部署了，如果出现错误，可能有以下原因：</p>
<ul>
<li>1.检查你的VPS的ssh端口是否为22，22端口是否打开</li>
<li>2.你同步的目录不存在，需要在VPS上先新建目录才可以同步</li>
</ul>
<p>以上是我在Mac上的同步，比较简单，下面是windows系统的部署</p>
<h2 id="在Windows系统配置"><a href="#在Windows系统配置" class="headerlink" title="在Windows系统配置:"></a>在Windows系统配置:</h2><p>windows系统上就有一些坑了，网上关于windows系统下使用Rsync部署的资料不是很多，我也是查了好久的资料才解决问题的</p>
<p>搭建好Hexo环境之后</p>
<h4 id="1-和Mac部署一样，先安装rsync"><a href="#1-和Mac部署一样，先安装rsync" class="headerlink" title="1.和Mac部署一样，先安装rsync"></a>1.和Mac部署一样，先安装rsync</h4><p>在Hexo文件目录下安装<code>hexo-deployer-rsync</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-deployer-rsync --save</div></pre></td></tr></table></figure>
<p>在远程VPS上安装rsync:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install rsync -y</div></pre></td></tr></table></figure></p>
<h4 id="2-也和Mac部署一样，配置-config-yml-参考上面的windows配置"><a href="#2-也和Mac部署一样，配置-config-yml-参考上面的windows配置" class="headerlink" title="2.也和Mac部署一样，配置_config.yml,参考上面的windows配置"></a>2.也和Mac部署一样，配置<code>_config.yml</code>,参考上面的windows配置</h4><h4 id="3-windows系统要安装Rsync的客户端cwRsync才可以（这里坑了我很久），一定要安装！"><a href="#3-windows系统要安装Rsync的客户端cwRsync才可以（这里坑了我很久），一定要安装！" class="headerlink" title="3.windows系统要安装Rsync的客户端cwRsync才可以（这里坑了我很久），一定要安装！"></a>3.windows系统要安装Rsync的客户端cwRsync才可以（这里坑了我很久），一定要安装！</h4><p><a href="https://pan.baidu.com/s/1pJ3B1FX" target="_blank" rel="external">百度网盘</a><br>如果链接失效了可以给我发邮件rio7@qq.com<br>安装后要将其加到环境变量path中，我的是<code>D:\cwRsync\bin</code></p>
<h4 id="4-修改Hexo文件目录下-node-modules-hexo-deployer-rsync-lib-deployer-js"><a href="#4-修改Hexo文件目录下-node-modules-hexo-deployer-rsync-lib-deployer-js" class="headerlink" title="4.修改Hexo文件目录下/node_modules/hexo-deployer-rsync/lib/deployer.js:"></a>4.修改Hexo文件目录下<code>/node_modules/hexo-deployer-rsync/lib/deployer.js</code>:</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var params = [</div><div class="line">   &apos;-az&apos;,</div><div class="line">   &apos;this.public&apos;,</div><div class="line">   &apos;-e ssh&apos;,</div><div class="line">   args.user + &apos;@&apos; + args.host + &apos;:&apos; + args.root</div><div class="line"> ];</div></pre></td></tr></table></figure>
<p>将中’this.public’改为’public’</p>
<h4 id="5-执行命令"><a href="#5-执行命令" class="headerlink" title="5.执行命令"></a>5.执行命令</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hexo g</div><div class="line">hexo d</div></pre></td></tr></table></figure>
<p>应该就可以在VPS的相应目录下看到部署的东西了，如果出现错误，可能是以下原因：</p>
<ul>
<li><p>1.输入<code>hexo d</code>后提示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">INFO  Deploying: rsync</div><div class="line">The source and destination cannot both be remote.</div></pre></td></tr></table></figure>
<p>可能rsync把两个地址都是识别成远端地址了，<br>参考第四个步骤</p>
</li>
<li><p>2.输入<code>hexo d</code>后提示什么ERRONE之类看不懂的，可能是没有安装cwRsync客户端。</p>
</li>
</ul>
<h3 id="部署过程中的心得和一些坑："><a href="#部署过程中的心得和一些坑：" class="headerlink" title="部署过程中的心得和一些坑："></a>部署过程中的心得和一些坑：</h3><ul>
<li>1.在Mac上部署和在Windows上部署完全不一样，我刚开始就以为是一样的，在学校用的mac，回家用的是windows，也是按照在mac上部署的方式，结果死活部署不了，还以为是自己配置deploy的时候输入错误，改了很多次，有些浪费时间</li>
<li>2.配置<code>_config.yml</code>的deploy的时候，记得加上一个空格</li>
<li>3.之后准备用Git的方式部署</li>
<li>4.如果rsync出现问题，先在<a href="https://github.com/hexojs/hexo-deployer-rsync" target="_blank" rel="external">rsync-Github</a>的Issues下看有没有相应的错误。</li>
<li>5.VPS和本地Hexo目录都要安装rsync才可以</li>
<li>6.出现错误，善用Google</li>
<li>7.如果觉得npm安装比较慢，可以将npm改成淘宝的<a href="http://npm.taobao.org/" target="_blank" rel="external">cnpm</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在Hexo官网中提到了好几种&lt;a href=&quot;https://hexo.io/zh-cn/docs/deployment.html&quot;&gt;部署的方式&lt;/a&gt;，其中比较常用的是&lt;em&gt;Git方式&lt;/em&gt;和&lt;em&gt;Rsync方式&lt;/em&gt;（适用于新手）&lt;br&gt;其中Git刚开始需要配置比较多的东西，而Rsync则比较方便，直接配置几行命令就可以了，所以我在这里选择了Rsync的方式。&lt;br&gt;
    
    </summary>
    
    
      <category term="Hexo" scheme="http://yoursite.com/tags/Hexo/"/>
    
  </entry>
  
</feed>
